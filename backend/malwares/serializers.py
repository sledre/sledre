from rest_framework import serializers

from malwares.models import Malware
from jobs.serializers import JobSerializer


class MalwareSerializer(serializers.ModelSerializer):
    """Serializer of a Malware object without rendering file path to users.
    Also append each job linked to a malware.
    """

    file = serializers.FileField(write_only=True)
    jobs = JobSerializer(many=True, read_only=True)

    class Meta:
        model = Malware
        fields = "__all__"
